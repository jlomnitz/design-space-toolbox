\hypertarget{_d_s_variable_8c}{
\section{DSVariable.c File Reference}
\label{_d_s_variable_8c}\index{DSVariable.c@{DSVariable.c}}
}


Implementation file with functions for dealing with variables.  


{\ttfamily \#include $<$stdbool.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$math.h$>$}\par
{\ttfamily \#include $<$pthread.h$>$}\par
{\ttfamily \#include \char`\"{}DSMemoryManager.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}DSErrors.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}DSVariable.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}DSVariableTokenizer.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}DSTypes.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}DSMatrix.h\char`\"{}}\par
Include dependency graph for DSVariable.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{_d_s_variable_8c__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file:\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_d_s_variable}{DSVariable} $\ast$ \hyperlink{_d_s_variable_8c_a6f0ce189a8dc8ce46fad1d7a9b34d31f}{DSVariableAlloc} (const char $\ast$name)
\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{struct_d_s_variable}{DSVariable} with INFINITY as a default value. \item\end{DoxyCompactList}\item 
void \hyperlink{_d_s_variable_8c_aac8fadf2969493124be37a1076a2b885}{DSVariableFree} (\hyperlink{struct_d_s_variable}{DSVariable} $\ast$var)
\begin{DoxyCompactList}\small\item\em Function frees allocated memory of a \hyperlink{struct_d_s_variable}{DSVariable}. \item\end{DoxyCompactList}\item 
\hyperlink{struct_d_s_variable}{DSVariable} $\ast$ \hyperlink{_d_s_variable_8c_a1a5da69573335a86dea1e4a8a6770ea3}{DSVariableRetain} (\hyperlink{struct_d_s_variable}{DSVariable} $\ast$aVariable)
\begin{DoxyCompactList}\small\item\em Function to increase variable retain count by one. \item\end{DoxyCompactList}\item 
void \hyperlink{_d_s_variable_8c_a4d83eec85c4d9340593a359fd1d5e506}{DSVariableRelease} (\hyperlink{struct_d_s_variable}{DSVariable} $\ast$aVariable)
\begin{DoxyCompactList}\small\item\em Function to decrease variable retain count by one. \item\end{DoxyCompactList}\item 
\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$ \hyperlink{_d_s_variable_8c_a1cff6b1af2bc3210cc65435c1844b5ef}{DSVariablePoolAlloc} (void)
\begin{DoxyCompactList}\small\item\em Creates a new \hyperlink{struct_d_s_variable_pool}{DSVariablePool} with an empty var dictionary. \item\end{DoxyCompactList}\item 
\hypertarget{_d_s_variable_8c_a11c76e0e57dbc00e57edb94b65ea0244}{
\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$ {\bfseries DSVariablePoolCopy} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$const pool)}
\label{_d_s_variable_8c_a11c76e0e57dbc00e57edb94b65ea0244}

\item 
\hypertarget{_d_s_variable_8c_abe8cde590093cb49af32d532135d0d57}{
void {\bfseries DSVariablePoolFree} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_abe8cde590093cb49af32d532135d0d57}

\item 
\hypertarget{_d_s_variable_8c_a2ac568a1be064c51cffc7751776b4403}{
void {\bfseries DSVariablePoolSetReadOnly} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a2ac568a1be064c51cffc7751776b4403}

\item 
\hypertarget{_d_s_variable_8c_a80e57736e4bf63d4d88ea2af79b8417e}{
void {\bfseries DSVariablePoolSetReadWrite} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a80e57736e4bf63d4d88ea2af79b8417e}

\item 
\hypertarget{_d_s_variable_8c_a66afd8da098073ab4ef8c06e5d5257b8}{
void {\bfseries DSVariablePoolSetReadWriteAdd} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a66afd8da098073ab4ef8c06e5d5257b8}

\item 
\hypertarget{_d_s_variable_8c_aaa1b27aad0f93b52cf615a57d77cb142}{
bool {\bfseries DSVariablePoolIsReadOnly} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_aaa1b27aad0f93b52cf615a57d77cb142}

\item 
\hypertarget{_d_s_variable_8c_a7dc75250a954763bb8e9b217af50aa2f}{
bool {\bfseries DSVariablePoolIsReadWrite} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a7dc75250a954763bb8e9b217af50aa2f}

\item 
\hypertarget{_d_s_variable_8c_a9c6dcd1e5ec12a5cdd18df0fdb753ca9}{
bool {\bfseries DSVariablePoolIsReadWriteAdd} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a9c6dcd1e5ec12a5cdd18df0fdb753ca9}

\item 
\hypertarget{_d_s_variable_8c_a795b9def0c0cdd4fd1bd99dee0e18b24}{
void {\bfseries DSVariablePoolAddVariableWithName} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const char $\ast$name)}
\label{_d_s_variable_8c_a795b9def0c0cdd4fd1bd99dee0e18b24}

\item 
\hypertarget{_d_s_variable_8c_aa9ecf8bde68b63daba6f83b95cb4a471}{
void {\bfseries DSVariablePoolAddVariable} (\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, \hyperlink{struct_d_s_variable}{DSVariable} $\ast$newVar)}
\label{_d_s_variable_8c_aa9ecf8bde68b63daba6f83b95cb4a471}

\item 
\hypertarget{_d_s_variable_8c_aa0ab405c594ec1e1ba47cd36703d8ae5}{
bool {\bfseries DSVariablePoolHasVariableWithName} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const char $\ast$const name)}
\label{_d_s_variable_8c_aa0ab405c594ec1e1ba47cd36703d8ae5}

\item 
\hypertarget{_d_s_variable_8c_a4d59ca020b7df35f9d7320147800dad0}{
\hyperlink{struct_d_s_variable}{DSVariable} $\ast$ {\bfseries DSVariablePoolVariableWithName} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const char $\ast$name)}
\label{_d_s_variable_8c_a4d59ca020b7df35f9d7320147800dad0}

\item 
\hypertarget{_d_s_variable_8c_aca1491d35e9f15e6a00783f58b9e7c6c}{
void {\bfseries DSVariablePoolSetValueForVariableWithName} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const char $\ast$name, const double value)}
\label{_d_s_variable_8c_aca1491d35e9f15e6a00783f58b9e7c6c}

\item 
\hypertarget{_d_s_variable_8c_a7c0345124038d444aa55c6210ac766f5}{
const \hyperlink{struct_d_s_variable}{DSVariable} $\ast$$\ast$ {\bfseries DSVariablePoolAllVariables} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a7c0345124038d444aa55c6210ac766f5}

\item 
\hypertarget{_d_s_variable_8c_a9c39f5fe68099e6df8008e154698a0e6}{
const char $\ast$$\ast$ {\bfseries DSVariablePoolAllVariableNames} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool)}
\label{_d_s_variable_8c_a9c39f5fe68099e6df8008e154698a0e6}

\item 
\hypertarget{_d_s_variable_8c_a958544604efb5e2f931b967dd3ab240d}{
DSUInteger {\bfseries DSVariablePoolIndexOfVariable} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const \hyperlink{struct_d_s_variable}{DSVariable} $\ast$var)}
\label{_d_s_variable_8c_a958544604efb5e2f931b967dd3ab240d}

\item 
\hypertarget{_d_s_variable_8c_afd887f623bb5e13694754097bc9c7b15}{
DSUInteger {\bfseries DSVariablePoolIndexOfVariableWithName} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const char $\ast$name)}
\label{_d_s_variable_8c_afd887f623bb5e13694754097bc9c7b15}

\item 
\hypertarget{_d_s_variable_8c_a0d21cf1b61f32965532d6bb86c8195d4}{
\hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$ {\bfseries DSVariablePoolByParsingString} (const char $\ast$string)}
\label{_d_s_variable_8c_a0d21cf1b61f32965532d6bb86c8195d4}

\item 
\hypertarget{_d_s_variable_8c_a1ee4a6e864741c90621174674032de5f}{
void {\bfseries DSVariablePoolPrint} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$const pool)}
\label{_d_s_variable_8c_a1ee4a6e864741c90621174674032de5f}

\item 
\hypertarget{_d_s_variable_8c_a96a40866627c87b8beb764f85106f6e9}{
\hyperlink{struct_d_s_matrix}{DSMatrix} $\ast$ {\bfseries DSVariablePoolValuesAsVector} (const \hyperlink{struct_d_s_variable_pool}{DSVariablePool} $\ast$pool, const bool rowVector)}
\label{_d_s_variable_8c_a96a40866627c87b8beb764f85106f6e9}

\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_d_s_variable_8c_a6619150c9752c45d9a5577c5eea8fae6}{
pthread\_\-mutex\_\-t {\bfseries retaincount}}
\label{_d_s_variable_8c_a6619150c9752c45d9a5577c5eea8fae6}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation file with functions for dealing with variables. Copyright (C) 2011 Jason Lomnitz.\par
\par


This file is part of the Design Space Toolbox V2 (C Library).

The Design Space Toolbox V2 is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

The Design Space Toolbox V2 is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with the Design Space Toolbox. If not, see $<$\href{http://www.gnu.org/licenses/}{\tt http://www.gnu.org/licenses/}$>$.

\begin{DoxyAuthor}{Author}
Jason Lomnitz. 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2011 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{_d_s_variable_8c_a6f0ce189a8dc8ce46fad1d7a9b34d31f}{
\index{DSVariable.c@{DSVariable.c}!DSVariableAlloc@{DSVariableAlloc}}
\index{DSVariableAlloc@{DSVariableAlloc}!DSVariable.c@{DSVariable.c}}
\subsubsection[{DSVariableAlloc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DSVariable}$\ast$ DSVariableAlloc (const char $\ast$ {\em name})}}
\label{_d_s_variable_8c_a6f0ce189a8dc8ce46fad1d7a9b34d31f}


Creates a new \hyperlink{struct_d_s_variable}{DSVariable} with INFINITY as a default value. 

This function may be used throughout, in order to create new variables consistently and portably. As variables are allocated individually, it is important to not that they should be released with the accesory method. 
\begin{DoxyParams}{Parameters}
\item[{\em name}]A string with which to identify the \hyperlink{struct_d_s_variable}{DSVariable}. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The pointer to the newly allocated \hyperlink{struct_d_s_variable}{DSVariable}. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{struct_d_s_variable}{DSVariable} 

\hyperlink{_d_s_variable_8h_aac8fadf2969493124be37a1076a2b885}{DSVariableFree} 
\end{DoxySeeAlso}
\hypertarget{_d_s_variable_8c_aac8fadf2969493124be37a1076a2b885}{
\index{DSVariable.c@{DSVariable.c}!DSVariableFree@{DSVariableFree}}
\index{DSVariableFree@{DSVariableFree}!DSVariable.c@{DSVariable.c}}
\subsubsection[{DSVariableFree}]{\setlength{\rightskip}{0pt plus 5cm}void DSVariableFree ({\bf DSVariable} $\ast$ {\em var})}}
\label{_d_s_variable_8c_aac8fadf2969493124be37a1076a2b885}


Function frees allocated memory of a \hyperlink{struct_d_s_variable}{DSVariable}. 

This function should be used for each newDSVariable that is called. The internal structure is subject to changes in consequent versions and therefore freeing memory of DSVariables should be strictly through this function. 
\begin{DoxyParams}{Parameters}
\item[{\em var}]The pointer to the variable to free. \end{DoxyParams}
\hypertarget{_d_s_variable_8c_a1cff6b1af2bc3210cc65435c1844b5ef}{
\index{DSVariable.c@{DSVariable.c}!DSVariablePoolAlloc@{DSVariablePoolAlloc}}
\index{DSVariablePoolAlloc@{DSVariablePoolAlloc}!DSVariable.c@{DSVariable.c}}
\subsubsection[{DSVariablePoolAlloc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DSVariablePool}$\ast$ DSVariablePoolAlloc (void)}}
\label{_d_s_variable_8c_a1cff6b1af2bc3210cc65435c1844b5ef}


Creates a new \hyperlink{struct_d_s_variable_pool}{DSVariablePool} with an empty var dictionary. 

The variable pool is initialized with read/write privilages. The variable pool stores a indexed version of the variables added, as well as the order in which the variables were added. The order of the variables is kept to ensure a consistent variable index with system matrices of S-\/Systems and GMAs.

\begin{DoxyReturn}{Returns}
The pointer to the allocated \hyperlink{struct_d_s_variable_pool}{DSVariablePool}.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
DSVariablePoolFree 
\end{DoxySeeAlso}
\hypertarget{_d_s_variable_8c_a4d83eec85c4d9340593a359fd1d5e506}{
\index{DSVariable.c@{DSVariable.c}!DSVariableRelease@{DSVariableRelease}}
\index{DSVariableRelease@{DSVariableRelease}!DSVariable.c@{DSVariable.c}}
\subsubsection[{DSVariableRelease}]{\setlength{\rightskip}{0pt plus 5cm}void DSVariableRelease ({\bf DSVariable} $\ast$ {\em aVariable})}}
\label{_d_s_variable_8c_a4d83eec85c4d9340593a359fd1d5e506}


Function to decrease variable retain count by one. 

Fast processing tree is made to decrease its retain count by one, when the retain count hits zero, the function \hyperlink{_d_s_variable_8c_aac8fadf2969493124be37a1076a2b885}{DSVariableFree()} is invoked, freeing the memory space. Fast processing tree does not have an equivalent to autorelease, forcing the developer to use greater care when directly managing memory.


\begin{DoxyParams}{Parameters}
\item[{\em aVariable}]The variable which will have its retain count reduced.\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{_d_s_variable_8h_a1a5da69573335a86dea1e4a8a6770ea3}{DSVariableRetain} 

\hyperlink{_d_s_variable_8h_aac8fadf2969493124be37a1076a2b885}{DSVariableFree} 
\end{DoxySeeAlso}
\hypertarget{_d_s_variable_8c_a1a5da69573335a86dea1e4a8a6770ea3}{
\index{DSVariable.c@{DSVariable.c}!DSVariableRetain@{DSVariableRetain}}
\index{DSVariableRetain@{DSVariableRetain}!DSVariable.c@{DSVariable.c}}
\subsubsection[{DSVariableRetain}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DSVariable}$\ast$ DSVariableRetain ({\bf DSVariable} $\ast$ {\em aVariable})}}
\label{_d_s_variable_8c_a1a5da69573335a86dea1e4a8a6770ea3}


Function to increase variable retain count by one. 

Variables utilize a similar memory management system used in Objective-\/C NSObject subclasses, where objects a retained/released.


\begin{DoxyParams}{Parameters}
\item[{\em aVariable}]The variable which will have its retain count increased.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The same variable which received the retain count increase is returned, for convinience.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_d_s_variable_8h_a4d83eec85c4d9340593a359fd1d5e506}{DSVariableRelease} 
\end{DoxySeeAlso}
